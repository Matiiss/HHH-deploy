<!doctype html>

<html>
    <head>
        <!-- Recommended meta tags -->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">

        <!-- PyScript CSS -->
        <!-- <link rel="stylesheet" href="https://pyscript.net/releases/2024.1.1/core.css"> -->

        <!-- Script for Three js -->
        <script type="importmap">
        {
          "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.149.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.149.0/examples/jsm/",
            "three/controls/": "https://cdn.jsdelivr.net/npm/three@0.149.0/examples/jsm/controls/"

          }
        }
        </script>
        <!-- This script tag bootstraps PyScript -->
        <script type="module" src="https://pyscript.net/releases/2024.1.1/core.js"></script>
        <script type="module">
            import * as THREE from 'three';
            import { LineSegments2 } from 'three/addons/lines/LineSegments2.js';
			import { LineMaterial } from 'three/addons/lines/LineMaterial.js';
            import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';
            import { PointerLockControls } from 'three/addons/controls/PointerLockControls.js'

            window.THREE = THREE;
            window.LineSegments2 = LineSegments2;
            window.LineMaterial = LineMaterial;
            window.GLTFLoader = GLTFLoader;
            window.PointerLockControls = PointerLockControls;

        </script>
        <!-- for splashscreen -->
        <link rel="stylesheet" href="assets/css/style.css">
        <script type="module">
            const loading = document.getElementById('loading');
            addEventListener('py:ready', () => loading.close());
            const instructions = document.getElementById('instructions')
            addEventListener('py:ready', () => instructions.style.display='block');
            const editor = document.getElementById('editor')
            addEventListener('py:ready', () => editor.style.display='block');
            loading.showModal();
        </script>

        <title>Image Gallery</title>
        <!-- <link rel="icon" type="image/png" href="./assets/favicon.png" /> -->

    </head>

    <body>
        <dialog id="loading">
            <h1>Loading...</h1>
        </dialog>

        <div id="instructions">Click here to look around!</div>
        <div id="editor"><a href="assets/editor.html">Go to editor!</a></div>
        <script type="py" src="./main.py" config="./pyscript.toml"></script>

    </body>

</html>
