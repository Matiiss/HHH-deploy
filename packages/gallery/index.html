<!doctype html>

<html>
    <head>
        <!-- Recommended meta tags -->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">

        <!-- Script for Three js -->
        <script type="importmap">
        {
          "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.149.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.149.0/examples/jsm/",
            "three/controls/": "https://cdn.jsdelivr.net/npm/three@0.149.0/examples/jsm/controls/"

          }
        }
        </script>
        <!-- This script tag bootstraps PyScript -->
        <script type="module" src="https://pyscript.net/releases/2024.1.1/core.js"></script>
        <script type="module">
            import * as THREE from 'three';
            import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';
            import { RGBELoader } from 'three/addons/loaders/RGBELoader.js';
            import { PointerLockControls } from 'three/addons/controls/PointerLockControls.js'

            window.THREE = THREE;
            window.GLTFLoader = GLTFLoader;
            window.RGBELoader = RGBELoader;
            window.PointerLockControls = PointerLockControls;
        </script>

        <!-- for Loading Screen and Tips -->
        <link rel="stylesheet" href="assets/css/style.css">
        <script type="module">
            const loading = document.getElementById('loading');
            addEventListener('py:ready', () => loading.close());

            let tips = [
                "HHH will never ask for your github password.",
                "Only you can prevent pr scams."
            ];

            let random_tip = tips[Math.floor(Math.random() * tips.length)];
            document.getElementById('loading_tips').innerText = random_tip;

            loading.showModal();
        </script>

        <!-- Help Menu -->
        <script type="module">
            const help_menu = document.getElementById('help-menu');
            addEventListener('py:ready', () => help_menu.showModal());
        </script>

        <title>Image Gallery</title>
        <!-- <link rel="icon" type="image/png" href="./assets/favicon.png" /> -->

    </head>

    <body>
        <dialog id="loading">
            <center><h1>Loading...</h1></center>
            <p id="loading_tips"></p>
        </dialog>

        <dialog id="help-menu">
            <p>
                <h1>HELP MENU</h1>
                <ol>
                    <li>WASD or arrow keys to move forward, left, backward and right respectively.</li>
                    <li>Z and Ctrl toggle running</li>
                    <li>Space to up and Shift to go down</li>
                    <li>H to open help menu</li>
                </ol>
            </p>

            <button id="close-help-menu">Close</button>
        </dialog>

        <div id="instructions">Click here to look and move around!</div>
        <div id="editor"><a href="assets/editor.html">Go to editor!</a></div>

        <script type="py" src="./main.py" config="./pyscript.toml"></script>

    </body>

</html>
